package Lab6;

import java.util.List;
import java.util.Scanner;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;
import org.openqa.selenium.support.ui.Select;
import org.testng.annotations.AfterTest;
import org.testng.annotations.BeforeTest;
import org.testng.annotations.Test;

public class NewTest 
{
	static WebDriver driver;
	@BeforeTest
	public void checkWebsiteLoad() 
	{
		System.setProperty("webdriver.chrome.driver", "C:\\Users\\Ahmer Aziz\\Desktop\\chromedriver.exe");
		driver = new ChromeDriver();
		String baseUrl = "https://omayo.blogspot.in/";
		System.out.println("Website Opens...");
		driver.get(baseUrl);
		//driver.manage().window().maximize();
	}
	@Test(priority=1)
	public void textArea1() 
	{
		try (Scanner sc = new Scanner(System.in)) {
			//System.out.print("Enter Name: ");
			//String userName = sc.nextLine();
			//System.out.println("Username is: " + userName);	
			System.out.println("Clear Text Area 1 and Send Username to Text Area 1...");
			driver.findElement(By.xpath("//h2[text()='Text Area Field']//following-sibling::div[@class='widget-content']//child::textarea")).clear();
			driver.findElement(By.xpath("//h2[text()='Text Area Field']//following-sibling::div[@class='widget-content']//child::textarea")).sendKeys("Ahmer Aziz");
		}
		
	}
	@Test(priority=2)
	public void textArea2() 
	{
		System.out.println("Print Textarea 2 Text, Clear And Send Intro in the Text Field...");
		String str = driver.findElement(By.xpath("//h2[contains(text(),'Two')]//following-sibling::div[@class='widget-content']//child::textarea")).getText();
		System.out.println("Text Area 2 text: " + str);
		driver.findElement(By.xpath("//h2[text()='Text Area Field Two']//following-sibling::div[@class='widget-content']//child::textarea")).clear();
		driver.findElement(By.xpath("//h2[text()='Text Area Field Two']//following-sibling::div[@class='widget-content']//child::textarea")).sendKeys("My Name is Ahmer Aziz.");
	}
	@Test(priority=3)
	public void tableData() 
	{
		System.out.println("Print Table Content...");
		List<WebElement> allRows = driver.findElements(By.xpath("//h2[text()='Table']//following-sibling::div[@class='widget-content']//child::table"));
		for (WebElement row : allRows) 
		{
			List<WebElement> cells = row.findElements(By.tagName("tr"));
			for (WebElement cell : cells) 
			{
				System.out.println(cell.getText());
			}
		}
	}
	
	@Test(priority=4)
	public void userLogin() 
	{
		System.out.println("Send User name and password in fields...");
		driver.findElement(By.xpath("//h2[text()='HTML Form']//following-sibling::div[@class='widget-content']//form//input[@type='text']")).sendKeys("ahmeraziz95");
		driver.findElement(By.xpath("//h2[text()='HTML Form']//following-sibling::div[@class='widget-content']//form//input[@type='password']")).sendKeys("ahmeraziz95");
		driver.findElement(By.xpath("//h2[text()='HTML Form']//following-sibling::div[@class='widget-content']//form//button")).click();
	}
	
	@Test(priority=5)
	public void frameSwitch() 
	{
		System.out.println("Switching Frames...");
		WebElement frame1 = driver.findElement(By.xpath("//div[@class='widget-content']//iframe[@id='iframe1']"));
		driver.switchTo().frame(frame1);
		driver.switchTo().defaultContent();
		WebElement frame2 = driver.findElement(By.xpath("//div[@class='widget-content']//iframe[@id='iframe2']"));
		driver.switchTo().frame(frame2);
		driver.switchTo().defaultContent();
	}
	@Test(priority=6)
	public void simpleLogin() 
	{
		System.out.println("Send User name and password in fields and Click Login Button...");
		driver.findElement(By.xpath("//form[@name='login']//input[@name='userid']")).sendKeys("ahmeraziz95");
		driver.findElement(By.xpath("//form[@name='login']//input[@name='pswrd']")).sendKeys("ahmeraziz95");
		driver.findElement(By.xpath("//form[@name='login']//input[@value='Login']")).click();
		driver.switchTo().alert().accept();
		System.out.println("Clear login Fields...");
		driver.findElement(By.xpath("//form[@name='login']//input[@value='Cancel']")).click();
	}
	@Test(priority=7)
	public void multiSelect() 
	{
		System.out.println("Select Hyndai and Doc3...");
		Select car = new Select(driver.findElement(By.xpath("//h2[text()='Multi Selection box']//following-sibling::div[@class='widget-content']//select")));
		car.selectByVisibleText("Hyundai");
		Select newsletter = new Select(driver.findElement(By.xpath("//div[@class='widget HTML']//following-sibling::div[@class='widget-content']//select[@class='combobox']")));
		newsletter.selectByVisibleText("doc 3");
	}
	
	@AfterTest
	public void exitWebsite() 
	{
		//driver.quit();
	}
}
